<div class='container'>
  <div class="row chart_container">
      <div ng-repeat="ch in charts" ng-if="ch.total > 0" class="col-sm-3 charts-list">
        <div class="notify">
          <h3>{{ch.title}}</h3>
          <div class="value-ct row">
            <div class="col-sm-12">
              <span class="no-of-re">{{ch.total}}</span>
              <div class="chart">
                <div class="chart-pie pieID pie"></div>
              </div>
            </div>
            <div class="col-sm-12">
              <ul class="chart-legend">
                <li><span class="st0"></span><em> {{ch.new}}</em> New</li>
                <li><span class="st1"></span><em> {{ch.pending}}</em> Pending</li>
                <li><span class="st2"></span><em> {{ch.completed}}</em> Complete</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
  </div>

  <div style='padding: 10px;' ng-if='userInfo.userrole == "csr" || userInfo.userrole == "dr"' class="row">
    <div class="col-sm-12">
        <div class="file-upload">
            <div class='table-container' ng-if='userInfo.userrole == "csr" && csrFileList["notification"].length'>
                <div class='table-header'>
                    <h4>அறிவிப்புகள்</h4>
                </div>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>கோப்பு எண்</th>
                                <th>கோப்பு தேதி</th>
                                <th>குறிப்பு தாள்</th>
                                <th>நிலை</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="row in csrFileList['notification'] track by row.id">
                                <td>{{row.file_no}}</td>
                                <td>{{row.created_on}}</td>
                                <td>{{row.file_details[1].notes}}</td>
                                <td>Yet Date No action on this file</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class='table-container' ng-repeat="s in sections">
                <div class='table-header'>
                    <h4>{{csrFileList['section'][s]['name']}} Section</h4>
                </div>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>கோப்பு எண்</th>
                                <th>கோப்பு தேதி</th>
                                <th>குறிப்பு தாள்</th>
                                <th>நிலை</th>
                                <th>நடவடிக்கை</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="row in csrFileList['section'][s]['data'] track by row.id">
                                <td>{{row.file_no}}</td>
                                <td>{{row.created_on}}</td>
                                <td>{{row.file_details[1].notes}}</td>
                                <td>{{row.file_expiry ? 'Moved to Record Room' : statusDetail[row.approved][row.status]}}</td>
                                <td><a href='javascript:void(0)' ng-click="viewRow(row)">காண்க</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    </div>
  <div style='padding: 10px;' ng-if='userInfo.userrole == "pr"' class="row">
        <div ng-if='userInfo.section_type == "section"'>
                <a class='btn btn-default pull-right' href='javascript:void(0)' ng-click='toggleAddRecord()'>புதிய கோப்பு</a>
                <div class="col-sm-12">
                <div class="row">
                    <div class="file-upload">
                        <uib-tabset class='tab-view' active="activeJustified" justified="true">
                            <uib-tab index="0" heading="புதிய கோப்புகள்">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>கோப்பு எண்</th>
                                            <th>தேதி</th>
                                            <th>விளக்கம்</th>
                                            <th class="text-center">கோப்பு ஆவணம்</th>
                                            <th class="text-center">குறிப்பு தாள் உருவாக்கவும்</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat='list in fileList.new'>
                                        <td>{{list.file_no}}</td>
                                        <td>{{ list.created_on}}</td>
                                        <td>{{list.title}}</td>
                                        <td class="text-center d-icon"><a href="javascript:void(0)" ><img src="img/file-doc.png"></a></td>
                                        <td class="text-center d-icon"><a href="javascript:void(0)" ng-click='addNotes(list)'><img src="img/create.png"></a></td>
                                    </tr>
                                    <tr ng-if='fileList.new.length < 1'>
                                        <td colspan='5' style='text-align: center;'>No Records to display...</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            </uib-tab>
                            <uib-tab index="1" heading="அங்கீகரிக்கப்பட்ட கோப்புகள்">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>கோப்பு எண்</th>
                                            <th>தேதி</th>
                                            <th>விளக்கம்</th>
                                            <th class="text-center">நிலை</th>
                                            <th class="text-center">ஆணை நகல் பதிவேற்றவும்</th>
                                            <th class="text-center">நடவடிக்கை</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat='list in fileList.approved'>
                                            <td>{{list.file_no}}</td>
                                            <td>{{ list.created_on}}</td>
                                            <td>{{list.title}}</td>
                                            <td>{{list.status}}</td>
                                            <td class="text-center d-icon"><i class='fa fa-upload upload-order' ng-click='uploadOrder(list)'></i></td>
                                            <td><a href='javascript:void(0)' ng-click="viewRow(list)">காண்க</a></td>
                                        </tr>
                                        <tr ng-if='fileList.approved.length < 1'>
                                            <td colspan='6' style='text-align: center;'>No Records to display...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            </uib-tab>
                            <uib-tab index="2" heading="நிலுவையில் உள்ள கோப்புகள் ">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>கோப்பு எண்</th>
                                            <th>தேதி</th>
                                            <th>விளக்கம்</th>
                                            <th class="text-center">நிலை</th>
                                            <th class="text-center">குறிப்பு தாள் எழுதவும் / ஆணை நகல் பதிவேற்றவும்</th>
                                            <th class="text-center">நடவடிக்கை</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat='list in fileList.pending'>
                                        <td>{{list.file_no}}</td>
                                        <td>{{ list.created_on}}</td>
                                        <td>{{list.title}}</td>
                                        <td>{{list.status}}</td>
                                        <td ng-if='list.approved == 0' class="text-center d-icon"><a href="javascript:void(0)" ng-click='addNotes(list)'><img src="img/create.png"></a></td>
                                        <td ng-if='list.approved == 1' class="text-center d-icon"><i class='fa fa-upload upload-order' ng-click='uploadOrder(list)'></i></td>
                                        <td><a href='javascript:void(0)' ng-click="viewRow(list)">காண்க</a></td>
                                        </tr>
                                        <tr ng-if='fileList.pending.length < 1'>
                                        <td colspan='6' style='text-align: center;'>No Records to display...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            </uib-tab>
                        </uib-tabset>
                        <hr/>
                    </div>
                </div>
                </div>
            </div>
            <div ng-if='userInfo.section_type == "recordroom"'>
                <div class="col-sm-12">
                    <div class="file-upload">
                        <uib-tabset class='tab-view' active="activeJustified" justified="true">
                            <uib-tab index="0" heading="Expiry Records">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>கோப்பு எண்</th>
                                            <th>காலாவதியாகும் தேதி</th>
                                            <th>விளக்கம் </th>
                                            <th class="text-center">பிரிவு</th>
                                            <th class="text-center">குறிப்பு தாள் உருவாக்கவும்</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat='list in fileList.expiry'>
                                        <td>{{list.file_no}}</td>
                                        <td>{{ list.created_on}}</td>
                                        <td>{{list.title}}</td>
                                        <td>{{list.section}}</td>
                                        <td class="text-center d-icon"><a href="javascript:void(0)" ng-click='addNotes(list)'><img src="img/create.png"></a></td>
                                    </tr>
                                    <tr ng-if='fileList.expiry.length < 1'>
                                        <td colspan='5' style='text-align: center;'>No Records to display...</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            </uib-tab>
                            <uib-tab index="1" heading="Pending Records">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>கோப்பு எண்</th>
                                            <th>தேதி :</th>
                                            <th>விளக்கம் </th>
                                            <th class="text-center">நிலை</th>
                                            <th class="text-center">குறிப்பு தாள் எழுதவும்</th>
                                            <th class="text-center">நடவடிக்கை</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat='list in fileList.pending'>
                                        <td>{{list.file_no}}</td>
                                        <td>{{ list.created_on}}</td>
                                        <td>{{list.title}}</td>
                                        <td>{{list.status}}</td>
                                        <td class="text-center d-icon"><a href="javascript:void(0)" ng-click='addNotes(list)'><img src="img/create.png"></a></td>
                                        <td><a href='javascript:void(0)' ng-click="viewRow(list)">காண்க</a></td>
                                        </tr>
                                        <tr ng-if='fileList.pending.length < 1'>
                                        <td colspan='6' style='text-align: center;'>No Records to display...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            </uib-tab>
                        </uib-tabset>
                        <hr/>
                    </div>
                </div>
            </div>
  </div>

  <div ng-if='userInfo.userrole == "attender"' class="row">
      <div class="col-sm-12">
          <div class="file-upload">
              <h3>புதிய கோப்பு</h3>
              <div class="col-sm-8">
                  <form name='fileUploadForm' enctype="multipart/form-data">
                      <div class="row">
                          <label class="lab-tx col-sm-4">புதிய கோப்பு எண் :</label>
                          <div class="col-sm-6">
                          <input type="text" autocomplete="off" required name='fileId' ng-model='fileUpload.file_no' class="form-control">
                          </div>
                      </div>
                      
                      <div class="row">
                          <label class="lab-tx col-sm-4">தேதி :</label>
                          <div class="col-sm-6">
                          <input type="date" data-date-format="DD MMMM YYYY" autocomplete="off" required name='date' ng-model='fileUpload.created_by' class="form-control">
                          </div>
                      </div>
                      
                      <div class="row">
                          <label class="lab-tx col-sm-4">விளக்கம் :</label>
                          <div class="col-sm-6">
                          <input type="text" autocomplete="off" required name='desc' ng-model='fileUpload.title' class="form-control">
                          </div>
                      </div>
                      
                      <div class="row">
                          <label class="lab-tx col-sm-4">ஸ்கேன் நகலை பதிவேற்றவும்:</label>
                          <div class="col-sm-6">
                          <input type="file" name="fileUpload.files" multiple="true" accept="image/*" id='files' required class="form-control">
                          </div>
                      </div>
                      
                      <div class="row">
                          <label class="lab-tx col-sm-4">பிரிவு :</label>
                          <div class="col-sm-6">
                          <select class="form-control" required ng-model="fileUpload.section" ng-options="section.id as section.name for section in sectionList">
                          </select>
                          </div>
                      </div>
                      
                      <div class="row">
                          <div class="col-sm-10 text-right">
                          <button class="btn btn-success" ng-disabled='fileUploadForm.$invalid' ng-click='Upload(fileUploadForm)'>சேமி</button>
                      </div>
                  </form>    
              </div>
              
          </div>
          <div class="col-sm-3">
              <div ng-if='!showCarousel' id='myCarousel'>
                  <i style='font-size: 220px;' class='fa fa-image'></i>
              </div>
              <div uib-carousel active="active" interval="myInterval" no-wrap="noWrapSlides">
                  <div uib-slide ng-repeat="slide in previewData track by $index" class="img-slider" index="slide.index">
                      <img width='300' ng-src="{{slide.src}}" style="margin:auto;">
                      <div class="carousel-caption">
                          <p>{{slide.name}}</p>
                      </div>
                  </div>
              </div>
          </div>
      </div>
      
  </div>

</div>

<script type="text/ng-template" id="notesModalContent.html">
    <div class="modal-header">
        <h3 class="modal-title" id="modal-title">{{info.title}}</h3>
    </div>
    <div class="modal-body" id="modal-body">
        
        <form class='form-group' name='notesAddForm' ng-if='info.state == "addNote"'>
            <h4>புதிய தாள்</h4>
            <div class="col-sm-3 col-xs-12">
                <label class="radio-btn">புதிய
                <input type="radio" ng-model='notesInfo.type' value='New' name="type" ng-change='noteTypeChange()'>
                <span class="checkmark"></span>
                </label>
            </div>
            <div class="col-sm-3 col-xs-12">
                <label class="radio-btn">இணைக்க
                <input type="radio" ng-model='notesInfo.type' value='Clipping' name="type" ng-change='noteTypeChange()'>
                <span class="checkmark"></span>
                </label>
            </div>
            <div class="col-sm-3 col-xs-12" ng-if='notesInfo.type == "Clipping"'>
                <input type="text" autocomplete="off" placeholder='File No' ng-model='notesInfo.fileNo' name='fileNo' class="form-control" required>
            </div>
            <br>
            <div id="tamil_container" ng-if='notesInfo.type != "Clipping"'>
              <div id="tamil_container_id">
                <span>அலுவலகக்  குறிப்பு :</span><br><br>
                <p>{{notesInfo.notes}}</p>
              </div>
            </div>
            <textarea ng-if='notesInfo.type != "Clipping"' id='editor' class='notesTextarea' ng-model='notesInfo.notes' required></textarea>
            <div id='keyboard' ng-if='notesInfo.type != "Clipping"'></div>
            <div class=''>
                <button ng-if='notesInfo.type == "Clipping"' type="button" class="btn btn-default pull-right" ng-disabled='!notesInfo.fileNo' ng-click='addClippingNotes()'>Submit</button>
                <button ng-if='notesInfo.type != "Clipping"' type="button" class="btn btn-default pull-right" ng-disabled='!notesInfo.notes' ng-click='addNotes()'>Submit</button>
            </div>
        </form>

        <form class='form-group upload-order-form' name='uploadOrderForm' ng-if='info.state == "uploadOrderCopy"'>
            <div class='row'>
                <div class='col-sm-8'>
                    <label class="lab-tx col-sm-4">ஸ்கேன் நகலை பதிவேற்றவும்:</label>
                    <div class="col-sm-6">
                        <input type="file" name="uploadorder.files" id='files' required class="form-control">
                    </div>
                </div>
                <div class='col-sm-4'>
                    <div ng-if='!showCarousel' id='myCarousel'>
                        <i style='font-size: 220px;' class='fa fa-image'></i>
                    </div>
                    <div uib-carousel active="active" interval="myInterval" no-wrap="noWrapSlides">
                        <div uib-slide ng-repeat="slide in previewData track by $index" index="slide.index">
                            <img width='300' ng-src="{{slide.src}}" style="margin:auto;">
                            <div class="carousel-caption">
                                <p>{{slide.name}}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class='clearfix'></div>
            </div>
            <br>
            <div class=''>
                <button type="button" class="btn btn-default pull-right" ng-disabled='!showCarousel' ng-click='uploadOrder()'>சேமி</button>
            </div>
            <div class='clearfix'></div>
        </form>

        <form class='form-group' name='newRecord' ng-if='info.state == "addRecord"'>
            <div class='row'>
                <div class='col-sm-8'>
                    <div class="row">
                        <label class="lab-tx col-sm-4">புதிய கோப்பு எண்:</label>
                        <div class="col-sm-6">
                            <input type="text" autocomplete="off" required name='fileId' ng-model='addRecordNew.file_no' class="form-control">
                        </div>
                    </div>
                    
                    <div class="row">
                        <label class="lab-tx col-sm-4">தேதி :</label>
                        <div class="col-sm-6">
                            <input type="date" data-date-format="DD MMMM YYYY" autocomplete="off" required name='date' ng-model='addRecordNew.created_by' class="form-control">
                        </div>
                    </div>
                    
                    <div class="row">
                        <label class="lab-tx col-sm-4">விளக்கம்  :</label>
                        <div class="col-sm-6">
                            <input type="text" autocomplete="off" required name='desc' ng-model='addRecordNew.title' class="form-control">
                        </div>
                    </div>

                    <div class='row'>
                        <label class="lab-tx col-sm-4">ஸ்கேன் நகலை பதிவேற்றவும்:</label>
                        <div class="col-sm-6">
                            <input type="file" name="addRecordNew.files" multiple="true" accept="image/*" id='files' required class="form-control">
                        </div>
                    </div>
                    <div class='row'>
                        <div class="col-sm-10 text-right">
                            <button class="btn btn-success" ng-disabled='newRecord.$invalid' ng-click='addRecordUpload()'>சேமி</button>
                        </div>
                    </div>
                </div>
                <div class='col-sm-4'>
                    <div ng-if='!showCarousel' id='myCarousel'>
                        <i style='font-size: 220px;' class='fa fa-image'></i>
                    </div>
                    <div uib-carousel active="active" interval="myInterval" no-wrap="noWrapSlides">
                        <div uib-slide ng-repeat="slide in previewData track by $index" index="slide.index">
                            <img width='300' ng-src="{{slide.src}}" style="margin:auto;">
                            <div class="carousel-caption">
                                <p>{{slide.name}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
       
    </div>
    
    <!-- <div class='modal-footer'>
    </div> -->
</script>